webpackJsonp([32],{OO4Q:function(t,e){},uXs0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),i=a.n(n),s=a("exGp"),r=a.n(s),o=a("Dd8w"),c=a.n(o),l=a("ra3+"),u=a("NYxO"),v=a("i84Q"),d=a("Uoa1"),p={data:function(){return{validate:null,countDown:60,sigs:null,reCallVerify:null,showAlert:!1,alertText:null,showVoiceTip:!1,type:"sms"}},components:{headTop:l.a,alertTip:d.a},created:function(){this.$route.query.sig?this.sigs=this.$route.query.sig:this.sigs=this.sig},mounted:function(){this.count(),this.getData()},beforeDestroy:function(){clearInterval(this.timer)},props:[],computed:c()({},Object(u.d)(["needValidation","cart_id","sig","orderParam"])),methods:c()({},Object(u.c)(["CHANGE_ORDER_PARAM","ORDER_SUCCESS"]),{count:function(){var t=this;this.countDown=60,clearInterval(this.timer),this.timer=setInterval(function(){t.countDown--,0==t.countDown&&clearInterval(t.timer)},1e3)},recall:function(){this.count(),this.type="sms",this.getData()},sendVoice:function(){this.showVoiceTip=!0,this.type="voice",this.getData()},getData:function(){var t=this;return r()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.F)(t.cart_id,t.sigs,t.type);case 2:t.reCallVerify=e.sent,t.reCallVerify.message&&(t.showAlert=!0,t.alertText=t.reCallVerify.message);case 4:case"end":return e.stop()}},e,t)}))()},confrimOrder:function(){var t=this;return r()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.CHANGE_ORDER_PARAM({validation_code:t.validate,validation_token:t.reCallVerify.validate_token}),e.next=3,Object(v.N)(t.orderParam);case 3:if(!(a=e.sent).message){e.next=8;break}return t.showAlert=!0,t.alertText=a.message,e.abrupt("return");case 8:t.ORDER_SUCCESS(a),t.$router.push("/confirmOrder/payment");case 10:case"end":return e.stop()}},e,t)}))()}})},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"validation_page"},[a("head-top",{attrs:{"head-title":"用户手机验证","go-back":"true"}}),t._v(" "),a("section",{staticClass:"validataion_container"},[t.showVoiceTip?a("div",{staticClass:"voice_tip"},[a("p",[t._v("电话拨打中...")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),a("header",{staticClass:"validataion_header"},[a("span",[t._v("收不到短信？使用")]),t._v(" "),a("span",{on:{click:t.sendVoice}},[t._v("语音验证码")])]),t._v(" "),a("form",{staticClass:"input_form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.validate,expression:"validate"}],attrs:{type:"text",name:"validate",placeholder:"验证码",maxlength:"6"},domProps:{value:t.validate},on:{input:function(e){e.target.composing||(t.validate=e.target.value)}}}),t._v(" "),t.countDown?a("span",{staticClass:"disable"},[t._v(t._s(t.countDown)+" S")]):a("span",{staticClass:"repost",on:{click:t.recall}},[t._v("重新发送")])])]),t._v(" "),a("div",{staticClass:"determine",on:{click:t.confrimOrder}},[t._v("确定")]),t._v(" "),t.showAlert?a("alert-tip",{attrs:{alertText:t.alertText},on:{closeTip:function(e){t.showAlert=!1}}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("请留意来自 "),e("span",[this._v("10105757")]),this._v(" 或者 "),e("span",[this._v("021-315754XX")]),this._v(" 的电话")])}]};var _=a("VU/8")(p,h,!1,function(t){a("OO4Q")},"data-v-5024fefc",null);e.default=_.exports}});
//# sourceMappingURL=32.ff8cf5e6f3d90d31c3d7.js.map